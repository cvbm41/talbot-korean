<script src="js/jquery-3.3.1.min.js"></script>
<script src="js/jquery-migrate-1.4.1.min.js"></script>
<script src="js/global.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/remixicon/4.2.0/remixicon.min.css">

  <link href="css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
  <script src="js/bootstrap.bundle.min.js"
    integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous">
    </script>


<style>
  :root {
    --swatch-var-4635: rgba(180, 19, 37, 1.00);
    --swatch-var-7343: #000000;
  }

  body {
    background-color: #211F1F;
    color: rgba(255, 255, 255, 1.0);
  }
</style>


<body class="">

  <div class="container-fluid min-vh-100 d-flex flex-column justify-content-center align-items-center text-center">
    
    <!-- 로고 영역 -->
    <div class="mb-4">
      <picture>
        <source type="image/webp">
        <img src="img/main_logo.svg" class="img-fluid mx-auto d-block" width="300" height="100" alt="Logo">
      </picture>
    </div>

    <!-- 게시물 영역 -->
    <div class="container">
      <div id="zoom-list" class="row justify-content-center">
        <!-- JS가 여기에 카드 삽입 -->
      </div>
    </div>
  <div id="zoom-loaing"><div class="spinner-border text-light my-3" role="status">
  <span class="visually-hidden"></span>
</div><h4>Loading.....</h4></div>

  </div>

</body>


<!-- 행사 일정 -->



<script>


  function fetchZoomInfo() {
    const articleId = 1;
    const apiUrl = globalUrl + '/api/articles/post_zoom/?article=' + articleId;

    $.ajax({
      url: apiUrl,
      method: "GET",
      dataType: 'json',
      success: function (response) {
        $("#zoom-loaing").addClass("d-none");
        updateZoomList(response.results);  // 단일 객체
      },
      error: function (jqXHR, textStatus, errorThrown) {
        console.error("Error fetching data: ", textStatus, errorThrown);
        $('#zoom-list').html('<p class="text-danger text-center">데이터를 불러오는 데 실패했습니다.</p>');
      }
    });
  }

  function updateZoomList(post) {
    const html = `
    <div class="col-md-8">
      <div class="card shadow-lg border-0">
        <div class="card-body">
          <h4 class="card-title text-center mb-3">${post.title}</h4>
          <hr />
          <p class="card-text" style="white-space: pre-wrap;">${post.body}</p>
        </div>
      </div>
    </div>
  `;
    $('#zoom-list').html(html);
  }

  fetchZoomInfo();
</script>